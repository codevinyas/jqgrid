<legend class="padding">Top 5 brands by coverage </legend>
@Html.Partial("_GridWithParams")
<script>
    $(function () {
        var startDateInput = $("#startDate").val();
        var endDateInput = $("#endDate").val();
        var myGrid = $('#jqGrid');

        myGrid.jqGrid({
            url: '/Top5Brands/GetTop5Brands',
            datatype: "json",
            contentType: "application/json; charset-utf-8",
            mtype: 'GET',
            colNames: ['Brand Id', 'Brand Name', 'Total Coverage'],
            colModel: [
                { name: 'Brand.BrandId', index: 'Brand.BrandId', width: 100, sortable: false },
                { name: 'Brand.BrandName', index: 'Brand.BrandName', width: 350, sortable: false },
                { name: 'TotalCoverage', index: 'TotalCoverage', width: 125, align: 'right', sortable: false },
            ],
            rowNum: 5,
            gridview: true,
            height: '100%',
            emptyrecords: 'No records to display',
            viewrecords: true,
            postData: { startDate: startDateInput, endDate: endDateInput },
            jsonReader:
             {
                 root: "rows",
                 repeatitems: false,
                 Id: "0"
             },
        });

    })
</script>
